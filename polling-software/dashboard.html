<!DOCTYPE html>

<html lang="en">

<head>
    <title>Question Poll</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="https://uamediaprod.github.io/uoa-styles/assets/theme.css" type="text/css" />
    <link rel="stylesheet" href="css/app.css" type="text/css">


</head>

<body>

    <main class='adx'>

        <!-- NOTE: temp - this page will be for the CC or tutor to use to speak to - we'll make a chart/charts here -->
        
    </main>

    <!-- FIREBASE SET UP -->

    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    
<script>
    const firebaseConfig = {
    apiKey: "AIzaSyDNcTSvPaxr3tibN451b5Bl0OTF4hTS-Jo",
    databaseURL: "https://lrd-interactions-default-rtdb.asia-southeast1.firebasedatabase.app/",
    authDomain: "lrd-interactions.firebaseapp.com",
    projectId: "lrd-interactions",
    storageBucket: "lrd-interactions.appspot.com",
    messagingSenderId: "432588601822",
    appId: "1:432588601822:web:78c52f8679cd01b1ff454f"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);


    var polls = firebase.database().ref('poll/');


// NOTE: getting the data from Firebase involves taking a snapshot of the data at the current point in time. You can do different things with Firebase where it will constantly update live and all that but we don't need that here. We look at what the current data looks like inside 'poll/' and return that info as a JSON string.

polls.once('value').then(function (snapshot) {
     data = snapshot.val();
    console.log(data);


//NOTE: get a list of all the questions

    // FOR each question, count how many times it appears in data[0]

for (const [key, value] of Object.entries(data)) {
  console.log(value);

    for (var i = 0; i < value.length; i++){
        console.log(value[i]);
    }

}

});
</script>



    </main>

</body>

</html>